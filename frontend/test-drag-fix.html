<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‹–æ‹½ä¿®å¤æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-result {
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .info {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            color: #0d47a1;
        }
        button {
            background: #409EFF;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #66b1ff;
        }
        .code {
            background: #2d3748;
            color: #e2e8f0;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ æ‹–æ‹½ä¿®å¤æµ‹è¯•</h1>
        <p>æµ‹è¯•èµ·å§‹ç‚¹æ ‡è®°æ‹–æ‹½åŠŸèƒ½çš„ä¿®å¤æ•ˆæœ</p>
    </div>

    <div class="container">
        <h3>ä¿®å¤å†…å®¹æ€»ç»“</h3>
        <div class="info">
            <h4>âœ… å·²å®ç°çš„ä¿®å¤ï¼š</h4>
            <ul>
                <li><strong>ä¿®æ”¹æ‹–æ‹½é€»è¾‘</strong>: åªæœ‰åœ¨è®¢å•çœŸæ­£è¿›è¡Œä¸­æ—¶æ‰ç¦ç”¨æ‹–æ‹½</li>
                <li><strong>å¢åŠ å»¶è¿Ÿæ—¶é—´</strong>: 500mså’Œ1000msåŒé‡å»¶è¿Ÿç¡®ä¿åœ°å›¾åˆå§‹åŒ–</li>
                <li><strong>æ·»åŠ çŠ¶æ€ç›‘å¬</strong>: watchç›‘å¬è®¢å•çŠ¶æ€å˜åŒ–è‡ªåŠ¨æ›´æ–°æ‹–æ‹½çŠ¶æ€</li>
                <li><strong>å¢å¼ºæ—¥å¿—è¾“å‡º</strong>: è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯ä¾¿äºé—®é¢˜æ’æŸ¥</li>
            </ul>
        </div>

        <div class="test-result success">
            <h4>ğŸ¯ ä¿®å¤é€»è¾‘ï¼š</h4>
            <div class="code">
// æ–°çš„æ‹–æ‹½åˆ¤æ–­é€»è¾‘
const isOrderInProgress = currentOrder.value && 
                         ['ASSIGNED', 'PICKUP', 'IN_PROGRESS'].includes(orderStatus.value);
const isDraggable = !isOrderInProgress;

// è¿™æ„å‘³ç€ï¼š
// - æ²¡æœ‰è®¢å•æ—¶ï¼šå¯ä»¥æ‹–æ‹½ âœ…
// - è®¢å•çŠ¶æ€ä¸ºPENDINGæ—¶ï¼šå¯ä»¥æ‹–æ‹½ âœ…  
// - è®¢å•çŠ¶æ€ä¸ºASSIGNED/PICKUP/IN_PROGRESSæ—¶ï¼šä¸å¯æ‹–æ‹½ âŒ
            </div>
        </div>

        <h3>æµ‹è¯•æ­¥éª¤</h3>
        <div class="container">
            <div class="test-result info">
                <h4>1. åŸºç¡€æ‹–æ‹½æµ‹è¯•</h4>
                <p>åœ¨æ²¡æœ‰è®¢å•çš„æƒ…å†µä¸‹ï¼Œèµ·å§‹ç‚¹æ ‡è®°åº”è¯¥å¯ä»¥æ‹–æ‹½</p>
                <ul>
                    <li>æ‰“å¼€ä¹˜å®¢åœ°å›¾é¡µé¢</li>
                    <li>ç­‰å¾…å®šä½å®Œæˆï¼Œå‡ºç°èµ·å§‹ç‚¹æ ‡è®°</li>
                    <li>å°è¯•æ‹–æ‹½èµ·å§‹ç‚¹æ ‡è®°</li>
                    <li>é¢„æœŸç»“æœï¼šæ ‡è®°å¯ä»¥æ­£å¸¸æ‹–æ‹½</li>
                </ul>
            </div>

            <div class="test-result info">
                <h4>2. è®¢å•çŠ¶æ€æµ‹è¯•</h4>
                <p>åœ¨ä¸åŒè®¢å•çŠ¶æ€ä¸‹æµ‹è¯•æ‹–æ‹½è¡Œä¸º</p>
                <ul>
                    <li>åˆ›å»ºè®¢å•ï¼ˆçŠ¶æ€ï¼šPENDINGï¼‰- åº”è¯¥å¯ä»¥æ‹–æ‹½</li>
                    <li>å¸æœºæ¥å•ï¼ˆçŠ¶æ€ï¼šASSIGNEDï¼‰- åº”è¯¥ä¸å¯æ‹–æ‹½</li>
                    <li>å¸æœºåˆ°è¾¾ï¼ˆçŠ¶æ€ï¼šPICKUPï¼‰- åº”è¯¥ä¸å¯æ‹–æ‹½</li>
                    <li>å¼€å§‹è¡Œç¨‹ï¼ˆçŠ¶æ€ï¼šIN_PROGRESSï¼‰- åº”è¯¥ä¸å¯æ‹–æ‹½</li>
                </ul>
            </div>

            <div class="test-result info">
                <h4>3. F12æ•ˆåº”æµ‹è¯•</h4>
                <p>éªŒè¯æ˜¯å¦è¿˜éœ€è¦ä¾èµ–F12æ¥å¯ç”¨æ‹–æ‹½</p>
                <ul>
                    <li>åœ¨æ­£å¸¸çŠ¶æ€ä¸‹æµ‹è¯•æ‹–æ‹½</li>
                    <li>æ‰“å¼€F12å¼€å‘è€…å·¥å…·</li>
                    <li>å…³é—­F12å¼€å‘è€…å·¥å…·</li>
                    <li>é¢„æœŸç»“æœï¼šæ‹–æ‹½çŠ¶æ€ä¸åº”è¯¥å—F12å½±å“</li>
                </ul>
            </div>
        </div>

        <h3>è°ƒè¯•å‘½ä»¤</h3>
        <div class="container">
            <p>å¦‚æœæ‹–æ‹½ä»ç„¶æœ‰é—®é¢˜ï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
            
            <div class="code">
// æ£€æŸ¥å½“å‰çŠ¶æ€
console.log("æ ‡è®°å­˜åœ¨:", !!window.pickupMarker);
console.log("æ ‡è®°å¯æ‹–æ‹½:", window.pickupMarker?.getDraggable());
console.log("å½“å‰è®¢å•:", window.currentOrder?.value);
console.log("è®¢å•çŠ¶æ€:", window.orderStatus?.value);

// å¼ºåˆ¶å¯ç”¨æ‹–æ‹½ï¼ˆä¸´æ—¶æµ‹è¯•ï¼‰
if (window.pickupMarker) {
    window.pickupMarker.setDraggable(true);
    console.log("âœ… å·²å¼ºåˆ¶å¯ç”¨æ‹–æ‹½");
}

// æ‰‹åŠ¨è°ƒç”¨æ›´æ–°å‡½æ•°
if (typeof window.updatePickupMarkerDraggable === 'function') {
    window.updatePickupMarkerDraggable();
    console.log("âœ… å·²æ‰‹åŠ¨æ›´æ–°æ‹–æ‹½çŠ¶æ€");
}
            </div>
            <button onclick="copyToClipboard(this.previousElementSibling.textContent)">å¤åˆ¶è°ƒè¯•å‘½ä»¤</button>
        </div>

        <div class="test-result success">
            <h4>ğŸ‰ é¢„æœŸæ•ˆæœ</h4>
            <p>ä¿®å¤åï¼Œèµ·å§‹ç‚¹æ ‡è®°åº”è¯¥ï¼š</p>
            <ul>
                <li>åœ¨é¡µé¢åŠ è½½åç«‹å³å¯ä»¥æ‹–æ‹½</li>
                <li>ä¸éœ€è¦æ‰“å¼€F12å°±èƒ½æ­£å¸¸æ‹–æ‹½</li>
                <li>åªæœ‰åœ¨å¸æœºæ¥å•åæ‰ç¦ç”¨æ‹–æ‹½</li>
                <li>çŠ¶æ€å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°æ‹–æ‹½çŠ¶æ€</li>
            </ul>
        </div>
    </div>

    <script>
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('è°ƒè¯•å‘½ä»¤å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('è°ƒè¯•å‘½ä»¤å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        }

        window.onload = function() {
            console.log('ğŸ”§ æ‹–æ‹½ä¿®å¤æµ‹è¯•é¡µé¢å·²åŠ è½½');
            console.log('è¯·æŒ‰ç…§é¡µé¢è¯´æ˜è¿›è¡Œæµ‹è¯•');
        };
    </script>
</body>
</html>"