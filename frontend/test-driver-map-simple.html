<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>司机端地图简单测试</title>
    <style>
        #mapContainer {
            width: 100%;
            height: 400px;
            border: 1px solid #ccc;
        }
        .info {
            padding: 10px;
            margin: 10px 0;
            background: #f0f0f0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>司机端地图简单测试</h1>
    
    <div class="info">
        <div id="status">正在加载高德地图...</div>
    </div>
    
    <div id="mapContainer"></div>
    
    <script>
        // 设置安全密钥
        window._AMapSecurityConfig = {
            securityJsCode: '8b011259082e987043911232b625e2ca'
        };
        
        const status = document.getElementById('status');
        
        // 加载高德地图API
        const script = document.createElement('script');
        script.src = 'https://webapi.amap.com/maps?v=1.4.15&key=de2d5b3782511b03e23a18685faccead&plugin=AMap.Geolocation';
        
        script.onload = () => {
            status.textContent = '✅ 高德地图API加载成功，正在初始化地图...';
            
            try {
                // 创建地图实例
                const map = new AMap.Map('mapContainer', {
                    resizeEnable: true,
                    zoom: 15,
                    center: [116.397428, 39.90923]
                });
                
                status.textContent = '✅ 地图初始化成功！';
                
                // 添加定位控件
                AMap.plugin(['AMap.Geolocation'], () => {
                    const geolocation = new AMap.Geolocation({
                        enableHighAccuracy: true,
                        timeout: 10000
                    });
                    
                    map.addControl(geolocation);
                    
                    geolocation.getCurrentPosition((status, result) => {
                        if (status === 'complete') {
                            console.log('定位成功:', result);
                            document.getElementById('status').textContent = '✅ 定位成功！';
                        } else {
                            console.log('定位失败:', status, result);
                            document.getElementById('status').textContent = '⚠️ 定位失败，但地图加载正常';
                        }
                    });
                });
                
            } catch (error) {
                status.textContent = '❌ 地图初始化失败: ' + error.message;
                console.error('地图初始化失败:', error);
            }
        };
        
        script.onerror = (error) => {
            status.textContent = '❌ 高德地图API加载失败';
            console.error('高德地图API加载失败:', error);
        };
        
        document.head.appendChild(script);
    <