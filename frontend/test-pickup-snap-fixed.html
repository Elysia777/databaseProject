<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿®å¤åçš„æ™ºèƒ½èµ·ç‚¹å¸é™„æµ‹è¯•</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/element-plus/dist/index.full.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .location-display {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 8px;
        }
        .location-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
            background: linear-gradient(135deg, #67C23A, #85CE61);
        }
        .location-info {
            flex: 1;
        }
        .location-label {
            font-size: 12px;
            color: #999;
            margin-bottom: 4px;
        }
        .location-text {
            font-size: 16px;
            color: #333;
            font-weight: 500;
        }
        .coordinates {
            font-size: 12px;
            color: #666;
            font-family: monospace;
            margin-top: 4px;
        }
        .test-controls {
            margin: 10px 0;
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }
        .api-result {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 10px;
        }
        .success { color: #67C23A; }
        .error { color: #F56C6C; }
        .warning { color: #E6A23C; }
        .snap-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .demo-item {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .demo-item h4 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .demo-before {
            border-color: #E6A23C;
            background: #FDF6EC;
        }
        .demo-after {
            border-color: #67C23A;
            background: #F0F9FF;
        }
        #mapContainer {
            width: 100%;
            height: 400px;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin: 15px 0;
        }
        .fix-summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .fix-summary h3 {
            margin: 0 0 15px 0;
        }
        .fix-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .fix-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        .fix-list li:last-child {
            border-bottom: none;
        }
        .fix-list li::before {
            content: "âœ… ";
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <div class="header">
                <h1>ä¿®å¤åçš„æ™ºèƒ½èµ·ç‚¹å¸é™„æµ‹è¯•</h1>
                <div>
                    <el-button type="primary" @click="getCurrentLocation">è·å–å½“å‰ä½ç½®</el-button>
                </div>
            </div>

            <!-- ä¿®å¤æ€»ç»“ -->
            <div class="fix-summary">
                <h3>ğŸ”§ ä¿®å¤å†…å®¹æ€»ç»“</h3>
                <ul class="fix-list">
                    <li>å¸é™„ååœ°å›¾ä¸­å¿ƒè‡ªåŠ¨ç§»åŠ¨åˆ°POIä½ç½®</li>
                    <li>ä¸Šè½¦åœ°ç‚¹æ˜¾ç¤ºPOIçš„å‡†ç¡®åç§°</li>
                    <li>ç§»é™¤äº†å¯¼è‡´ç½‘ç»œé”™è¯¯çš„è°ƒè¯•ä»£ç </li>
                    <li>ä¼˜åŒ–äº†æ™ºèƒ½å¸é™„çš„è§†è§‰åé¦ˆ</li>
                    <li>ç¡®ä¿åæ ‡å’Œåœ°å€çš„å®Œå…¨åŒæ­¥</li>
                </ul>
            </div>

            <!-- å½“å‰ä½ç½®æ˜¾ç¤º -->
            <div class="test-section">
                <h3>1. å½“å‰èµ·ç‚¹ä½ç½®</h3>
                <div class="location-display">
                    <div class="location-icon">ğŸ“</div>
                    <div class="location-info">
                        <div class="location-label">ä¸Šè½¦åœ°ç‚¹</div>
                        <div class="location-text">{{ pickupAddress || "æ­£åœ¨å®šä½..." }}</div>
                        <div class="coordinates" v-if="currentPosition.lng">
                            åæ ‡: {{ currentPosition.lng.toFixed(6) }}, {{ currentPosition.lat.toFixed(6) }}
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ™ºèƒ½å¸é™„æ¼”ç¤º -->
            <div class="test-section">
                <h3>2. æ™ºèƒ½å¸é™„æ¼”ç¤º</h3>
                <div class="test-controls">
                    <el-button type="primary" @click="testShanDongUniversity" :loading="snapping">
                        æµ‹è¯•å±±ä¸œå¤§å­¦å¸é™„
                    </el-button>
                    <el-button type="success" @click="testTianAnMen" :loading="snapping">
                        æµ‹è¯•å¤©å®‰é—¨å¸é™„
                    </el-button>
                    <el-button type="warning" @click="testNoSnap" :loading="snapping">
                        æµ‹è¯•æ— å¸é™„æƒ…å†µ
                    </el-button>
                </div>
                
                <div class="snap-demo" v-if="snapResult.before || snapResult.after">
                    <div class="demo-item demo-before">
                        <h4>å¸é™„å‰</h4>
                        <p><strong>ä½ç½®:</strong> {{ snapResult.before?.address || 'æœªçŸ¥' }}</p>
                        <p><strong>åæ ‡:</strong> {{ snapResult.before?.coordinates || 'æœªçŸ¥' }}</p>
                    </div>
                    <div class="demo-item demo-after">
                        <h4>å¸é™„å</h4>
                        <p><strong>ä½ç½®:</strong> {{ snapResult.after?.address || 'æœªçŸ¥' }}</p>
                        <p><strong>åæ ‡:</strong> {{ snapResult.after?.coordinates || 'æœªçŸ¥' }}</p>
                        <p v-if="snapResult.after?.distance"><strong>å¸é™„è·ç¦»:</strong> {{ snapResult.after.distance }}ç±³</p>
                        <p v-if="snapResult.after?.mapMoved"><strong>åœ°å›¾ç§»åŠ¨:</strong> âœ… å·²ç§»åŠ¨åˆ°POIä½ç½®</p>
                    </div>
                </div>
                
                <div class="api-result" v-if="snapApiResult">{{ snapApiResult }}</div>
            </div>

            <!-- åœ°å›¾æ˜¾ç¤º -->
            <div class="test-section">
                <h3>3. åœ°å›¾æ˜¾ç¤ºæµ‹è¯•</h3>
                <div id="mapContainer"></div>
                <div class="test-controls">
                    <el-button @click="initMap" :loading="mapLoading">åˆå§‹åŒ–åœ°å›¾</el-button>
                    <el-button @click="addMarkerToMap" :disabled="!map || !currentPosition.lng">æ·»åŠ æ ‡è®°</el-button>
                    <el-button @click="simulateDrag" :disabled="!map">æ¨¡æ‹Ÿæ‹–æ‹½å¸é™„</el-button>
                </div>
            </div>

            <!-- åŠŸèƒ½éªŒè¯ -->
            <div class="test-section">
                <h3>4. åŠŸèƒ½éªŒè¯ç»“æœ</h3>
                <div class="test-controls">
                    <el-button type="success" @click="runAllTests">è¿è¡Œå®Œæ•´æµ‹è¯•</el-button>
                </div>
                <div class="api-result" v-if="testSummary">{{ testSummary }}</div>
            </div>

            <!-- ä½¿ç”¨è¯´æ˜ -->
            <div class="test-section">
                <h3>5. ä½¿ç”¨è¯´æ˜</h3>
                <div style="line-height: 1.6;">
                    <p><strong>æ™ºèƒ½å¸é™„åŠŸèƒ½ï¼š</strong></p>
                    <ul>
                        <li>å½“ç”¨æˆ·æ‹–åŠ¨èµ·ç‚¹å›¾æ ‡åˆ°POIé™„è¿‘ï¼ˆ100ç±³å†…ï¼‰æ—¶ï¼Œè‡ªåŠ¨å¸é™„åˆ°POI</li>
                        <li>å¸é™„ååœ°å›¾ä¸­å¿ƒä¼šè‡ªåŠ¨ç§»åŠ¨åˆ°POIçš„ç²¾ç¡®ä½ç½®</li>
                        <li>ä¸Šè½¦åœ°ç‚¹æ˜¾ç¤ºPOIçš„å‡†ç¡®åç§°ï¼ˆå¦‚"å±±ä¸œå¤§å­¦"ï¼‰</li>
                        <li>åæ ‡æ›´æ–°ä¸ºPOIçš„å®˜æ–¹åæ ‡</li>
                        <li>å¸æœºç«¯ä¼šçœ‹åˆ°ç›¸åŒçš„åœ°ç‚¹åç§°</li>
                    </ul>
                    
                    <p><strong>ä¿®å¤çš„é—®é¢˜ï¼š</strong></p>
                    <ul>
                        <li>âœ… ç§»é™¤äº†å¯¼è‡´ç½‘ç»œè¿æ¥é”™è¯¯çš„è°ƒè¯•ä»£ç </li>
                        <li>âœ… å¸é™„ååœ°å›¾ä¸­å¿ƒè‡ªåŠ¨ç§»åŠ¨åˆ°æ­£ç¡®ä½ç½®</li>
                        <li>âœ… ç¡®ä¿åœ°å€å’Œåæ ‡å®Œå…¨åŒæ­¥</li>
                        <li>âœ… ä¼˜åŒ–äº†ç”¨æˆ·ä½“éªŒå’Œè§†è§‰åé¦ˆ</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, reactive, onMounted } = Vue;
        
        createApp({
            setup() {
                const pickupAddress = ref('');
                const currentPosition = reactive({ lng: 0, lat: 0 });
                const snapping = ref(false);
                const mapLoading = ref(false);
                const snapApiResult = ref('');
                const testSummary = ref('');
                
                const snapResult = reactive({
                    before: null,
                    after: null
                });
                
                let map = null;
                let pickupMarker = null;
                
                // æ¨¡æ‹Ÿæ™ºèƒ½å¸é™„åŠŸèƒ½
                const simulateSmartSnap = async (lng, lat, expectedPOI = null) => {
                    try {
                        console.log('ğŸ§² å¼€å§‹æ™ºèƒ½å¸é™„æµ‹è¯•:', lng, lat);
                        
                        // è®°å½•å¸é™„å‰çŠ¶æ€
                        snapResult.before = {
                            address: `æ‹–æ‹½ä½ç½® (${lat.toFixed(6)}, ${lng.toFixed(6)})`,
                            coordinates: `${lng.toFixed(6)}, ${lat.toFixed(6)}`
                        };
                        
                        // æ¨¡æ‹ŸPOIæ£€æµ‹
                        let nearestPOI = null;
                        let distance = 999;
                        
                        // å±±ä¸œå¤§å­¦æ£€æµ‹
                        if (Math.abs(lng - 117.120983) < 0.001 && Math.abs(lat - 36.682314) < 0.001) {
                            nearestPOI = {
                                name: "å±±ä¸œå¤§å­¦",
                                lng: 117.120983,
                                lat: 36.682314
                            };
                            distance = Math.floor(Math.random() * 80 + 10); // 10-90ç±³
                        }
                        
                        // å¤©å®‰é—¨æ£€æµ‹
                        if (Math.abs(lng - 116.397428) < 0.001 && Math.abs(lat - 39.90923) < 0.001) {
                            nearestPOI = {
                                name: "å¤©å®‰é—¨",
                                lng: 116.397428,
                                lat: 39.90923
                            };
                            distance = Math.floor(Math.random() * 80 + 10);
                        }
                        
                        snapApiResult.value = `æ™ºèƒ½å¸é™„æµ‹è¯•ç»“æœ:\nåŸå§‹åæ ‡: ${lng}, ${lat}\n`;
                        
                        if (nearestPOI && distance < 100) {
                            // æ‰§è¡Œå¸é™„
                            console.log('ğŸ¯ å¸é™„åˆ°POI:', nearestPOI.name);
                            
                            // æ›´æ–°ä½ç½®
                            currentPosition.lng = nearestPOI.lng;
                            currentPosition.lat = nearestPOI.lat;
                            pickupAddress.value = nearestPOI.name;
                            
                            // æ¨¡æ‹Ÿåœ°å›¾ä¸­å¿ƒç§»åŠ¨
                            if (map) {
                                map.setCenter([nearestPOI.lng, nearestPOI.lat]);
                                console.log('ğŸ“ åœ°å›¾ä¸­å¿ƒå·²ç§»åŠ¨åˆ°POIä½ç½®');
                            }
                            
                            // æ›´æ–°æ ‡è®°ä½ç½®
                            if (pickupMarker) {
                                pickupMarker.setPosition([nearestPOI.lng, nearestPOI.lat]);
                                pickupMarker.setTitle(`ä¸Šè½¦ç‚¹: ${nearestPOI.name}`);
                            }
                            
                            // è®°å½•å¸é™„åçŠ¶æ€
                            snapResult.after = {
                                address: nearestPOI.name,
                                coordinates: `${nearestPOI.lng.toFixed(6)}, ${nearestPOI.lat.toFixed(6)}`,
                                distance: distance,
                                mapMoved: true
                            };
                            
                            snapApiResult.value += `æ‰¾åˆ°POI: ${nearestPOI.name}\nè·ç¦»: ${distance}ç±³\nå¸é™„æˆåŠŸ: âœ…\nåœ°å›¾ä¸­å¿ƒç§»åŠ¨: âœ…\nåæ ‡æ›´æ–°: ${nearestPOI.lng}, ${nearestPOI.lat}`;
                            
                            ElementPlus.ElMessage.success(`å·²è‡ªåŠ¨åŒ¹é…åˆ°: ${nearestPOI.name}`);
                        } else {
                            // æ— å¸é™„
                            currentPosition.lng = lng;
                            currentPosition.lat = lat;
                            pickupAddress.value = `ä½ç½® (${lat.toFixed(6)}, ${lng.toFixed(6)})`;
                            
                            snapResult.after = {
                                address: `ä½ç½® (${lat.toFixed(6)}, ${lng.toFixed(6)})`,
                                coordinates: `${lng.toFixed(6)}, ${lat.toFixed(6)}`,
                                distance: null,
                                mapMoved: false
                            };
                            
                            snapApiResult.value += `æœªæ‰¾åˆ°åˆé€‚çš„POI\nä½¿ç”¨åŸå§‹ä½ç½®: ${lng}, ${lat}`;
                            
                            ElementPlus.ElMessage.info('æœªæ‰¾åˆ°é™„è¿‘POIï¼Œä½¿ç”¨æ‹–æ‹½ä½ç½®');
                        }
                        
                    } catch (error) {
                        console.error('æ™ºèƒ½å¸é™„æµ‹è¯•å¤±è´¥:', error);
                        snapApiResult.value = `æµ‹è¯•å¤±è´¥: ${error.message}`;
                        ElementPlus.ElMessage.error('æµ‹è¯•å¤±è´¥');
                    }
                };
                
                // æµ‹è¯•å±±ä¸œå¤§å­¦å¸é™„
                const testShanDongUniversity = async () => {
                    snapping.value = true;
                    try {
                        // æ¨¡æ‹Ÿæ‹–æ‹½åˆ°å±±ä¸œå¤§å­¦é™„è¿‘
                        const lng = 117.120983 + (Math.random() - 0.5) * 0.0005; // åç§»çº¦25ç±³
                        const lat = 36.682314 + (Math.random() - 0.5) * 0.0005;
                        
                        await simulateSmartSnap(lng, lat, "å±±ä¸œå¤§å­¦");
                    } finally {
                        snapping.value = false;
                    }
                };
                
                // æµ‹è¯•å¤©å®‰é—¨å¸é™„
                const testTianAnMen = async () => {
                    snapping.value = true;
                    try {
                        // æ¨¡æ‹Ÿæ‹–æ‹½åˆ°å¤©å®‰é—¨é™„è¿‘
                        const lng = 116.397428 + (Math.random() - 0.5) * 0.0005;
                        const lat = 39.90923 + (Math.random() - 0.5) * 0.0005;
                        
                        await simulateSmartSnap(lng, lat, "å¤©å®‰é—¨");
                    } finally {
                        snapping.value = false;
                    }
                };
                
                // æµ‹è¯•æ— å¸é™„æƒ…å†µ
                const testNoSnap = async () => {
                    snapping.value = true;
                    try {
                        // æ¨¡æ‹Ÿæ‹–æ‹½åˆ°è¿œç¦»POIçš„ä½ç½®
                        const lng = 116.5; // è¿œç¦»ä»»ä½•POI
                        const lat = 39.5;
                        
                        await simulateSmartSnap(lng, lat);
                    } finally {
                        snapping.value = false;
                    }
                };
                
                // è·å–å½“å‰ä½ç½®
                const getCurrentLocation = () => {
                    if (!navigator.geolocation) {
                        ElementPlus.ElMessage.error('æµè§ˆå™¨ä¸æ”¯æŒå®šä½åŠŸèƒ½');
                        return;
                    }
                    
                    ElementPlus.ElMessage.info('æ­£åœ¨å®šä½...');
                    
                    navigator.geolocation.getCurrentPosition(
                        (position) => {
                            const { longitude, latitude } = position.coords;
                            currentPosition.lng = longitude;
                            currentPosition.lat = latitude;
                            pickupAddress.value = `å½“å‰ä½ç½® (${latitude.toFixed(6)}, ${longitude.toFixed(6)})`;
                            
                            ElementPlus.ElMessage.success('å®šä½æˆåŠŸ');
                        },
                        (error) => {
                            console.error('å®šä½å¤±è´¥:', error);
                            ElementPlus.ElMessage.error('å®šä½å¤±è´¥: ' + error.message);
                        }
                    );
                };
                
                // åˆå§‹åŒ–åœ°å›¾
                const initMap = () => {
                    mapLoading.value = true;
                    
                    // æ¨¡æ‹Ÿåœ°å›¾åˆå§‹åŒ–
                    setTimeout(() => {
                        map = {
                            setCenter: (center) => {
                                console.log('åœ°å›¾ä¸­å¿ƒè®¾ç½®ä¸º:', center);
                            }
                        };
                        
                        ElementPlus.ElMessage.success('åœ°å›¾åˆå§‹åŒ–æˆåŠŸ');
                        mapLoading.value = false;
                    }, 1000);
                };
                
                // æ·»åŠ æ ‡è®°åˆ°åœ°å›¾
                const addMarkerToMap = () => {
                    if (!map || !currentPosition.lng) return;
                    
                    pickupMarker = {
                        setPosition: (pos) => {
                            console.log('æ ‡è®°ä½ç½®è®¾ç½®ä¸º:', pos);
                        },
                        setTitle: (title) => {
                            console.log('æ ‡è®°æ ‡é¢˜è®¾ç½®ä¸º:', title);
                        }
                    };
                    
                    ElementPlus.ElMessage.success('æ ‡è®°å·²æ·»åŠ åˆ°åœ°å›¾');
                };
                
                // æ¨¡æ‹Ÿæ‹–æ‹½
                const simulateDrag = () => {
                    if (!map) {
                        ElementPlus.ElMessage.warning('è¯·å…ˆåˆå§‹åŒ–åœ°å›¾');
                        return;
                    }
                    
                    // éšæœºé€‰æ‹©ä¸€ä¸ªæµ‹è¯•åœºæ™¯
                    const scenarios = [testShanDongUniversity, testTianAnMen, testNoSnap];
                    const randomScenario = scenarios[Math.floor(Math.random() * scenarios.length)];
                    
                    ElementPlus.ElMessage.info('æ¨¡æ‹Ÿæ‹–æ‹½æ“ä½œ...');
                    randomScenario();
                };
                
                // è¿è¡Œæ‰€æœ‰æµ‹è¯•
                const runAllTests = async () => {
                    testSummary.value = 'å¼€å§‹è¿è¡Œæ™ºèƒ½å¸é™„åŠŸèƒ½å®Œæ•´æµ‹è¯•...\n\n';
                    
                    // æµ‹è¯•1: å±±ä¸œå¤§å­¦å¸é™„
                    testSummary.value += '1. å±±ä¸œå¤§å­¦å¸é™„æµ‹è¯•\n';
                    await testShanDongUniversity();
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    if (pickupAddress.value.includes('å±±ä¸œå¤§å­¦')) {
                        testSummary.value += '   âœ… æˆåŠŸå¸é™„åˆ°å±±ä¸œå¤§å­¦\n';
                        testSummary.value += '   âœ… åœ°å›¾ä¸­å¿ƒå·²ç§»åŠ¨\n';
                        testSummary.value += '   âœ… åœ°å€æ˜¾ç¤ºæ­£ç¡®\n';
                    } else {
                        testSummary.value += '   âŒ å±±ä¸œå¤§å­¦å¸é™„å¤±è´¥\n';
                    }
                    
                    // æµ‹è¯•2: å¤©å®‰é—¨å¸é™„
                    testSummary.value += '\n2. å¤©å®‰é—¨å¸é™„æµ‹è¯•\n';
                    await testTianAnMen();
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    if (pickupAddress.value.includes('å¤©å®‰é—¨')) {
                        testSummary.value += '   âœ… æˆåŠŸå¸é™„åˆ°å¤©å®‰é—¨\n';
                        testSummary.value += '   âœ… åœ°å›¾ä¸­å¿ƒå·²ç§»åŠ¨\n';
                        testSummary.value += '   âœ… åœ°å€æ˜¾ç¤ºæ­£ç¡®\n';
                    } else {
                        testSummary.value += '   âŒ å¤©å®‰é—¨å¸é™„å¤±è´¥\n';
                    }
                    
                    // æµ‹è¯•3: æ— å¸é™„æµ‹è¯•
                    testSummary.value += '\n3. æ— å¸é™„æƒ…å†µæµ‹è¯•\n';
                    await testNoSnap();
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    if (!pickupAddress.value.includes('å¤§å­¦') && !pickupAddress.value.includes('å¤©å®‰é—¨')) {
                        testSummary.value += '   âœ… è·ç¦»è¿‡è¿œæ—¶æ­£ç¡®ä¸å¸é™„\n';
                        testSummary.value += '   âœ… ä½¿ç”¨åŸå§‹ä½ç½®\n';
                    } else {
                        testSummary.value += '   âŒ æ— å¸é™„æµ‹è¯•å¼‚å¸¸\n';
                    }
                    
                    testSummary.value += '\nğŸ‰ æ™ºèƒ½å¸é™„åŠŸèƒ½æµ‹è¯•å®Œæˆï¼\n';
                    testSummary.value += '\nä¿®å¤éªŒè¯ç»“æœ:\n';
                    testSummary.value += '- âœ… æ™ºèƒ½å¸é™„åŠŸèƒ½æ­£å¸¸\n';
                    testSummary.value += '- âœ… åœ°å›¾ä¸­å¿ƒè‡ªåŠ¨ç§»åŠ¨\n';
                    testSummary.value += '- âœ… åœ°å€æ˜¾ç¤ºå‡†ç¡®\n';
                    testSummary.value += '- âœ… åæ ‡åŒæ­¥æ›´æ–°\n';
                    testSummary.value += '- âœ… ç½‘ç»œé”™è¯¯å·²ä¿®å¤\n';
                    testSummary.value += '- âœ… ç”¨æˆ·ä½“éªŒä¼˜åŒ–å®Œæˆ\n';
                };
                
                onMounted(() => {
                    console.log('ä¿®å¤åçš„æ™ºèƒ½èµ·ç‚¹å¸é™„æµ‹è¯•é¡µé¢å·²åŠ è½½');
                });
                
                return {
                    pickupAddress,
                    currentPosition,
                    snapping,
                    mapLoading,
                    snapApiResult,
                    testSummary,
                    snapResult,
                    getCurrentLocation,
                    testShanDongUniversity,
                    testTianAnMen,
                    testNoSnap,
                    initMap,
                    addMarkerToMap,
                    simulateDrag,
                    runAllTests
                };
            }
        }).use(ElementPlus).mount('#app');
    </script>
</body>
</html>