<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¸æœºç«¯é«˜å¾·APIè½¬å‘æç¤ºæµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .test-section {
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
        }
        .code {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            border: 1px solid #e9ecef;
            margin: 10px 0;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ å¸æœºç«¯é«˜å¾·APIè½¬å‘æç¤ºæµ‹è¯•</h1>
        <p>æµ‹è¯•å¸æœºç«¯è°ƒç”¨é«˜å¾·åœ°å›¾WebæœåŠ¡APIè·å–è¯¦ç»†è½¬å‘æç¤ºçš„åŠŸèƒ½ã€‚</p>
    </div>

    <div class="container">
        <div class="test-section">
            <h3>ğŸ“‹ åŠŸèƒ½æ¦‚è¿°</h3>
            <p><strong>ä¸»è¦åŠŸèƒ½ï¼š</strong>è°ƒç”¨é«˜å¾·åœ°å›¾WebæœåŠ¡APIè·å–è¯¦ç»†çš„è·¯çº¿è§„åˆ’å’Œè½¬å‘æŒ‡ç¤º</p>
            <p><strong>APIä¼˜åŠ¿ï¼š</strong>æ¯”JS APIæä¾›æ›´è¯¦ç»†çš„å¯¼èˆªæŒ‡ç¤ºå’Œè·¯å¾„ä¿¡æ¯</p>
            <p><strong>å¤‡ç”¨æœºåˆ¶ï¼š</strong>Web APIå¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ°JS API</p>
        </div>
    </div>

    <div class="container">
        <div class="test-section">
            <h3>ğŸ”§ å®ç°çš„å…³é”®åŠŸèƒ½</h3>
            
            <h4>1. é«˜å¾·WebæœåŠ¡APIè°ƒç”¨</h4>
            <div class="code">
// ä½¿ç”¨é«˜å¾·WebæœåŠ¡APIè¿›è¡Œè·¯çº¿è§„åˆ’
const planRouteWithWebAPI = async (origin, destination, instruction) => {
  const apiKey = 'b8568193f0510e07a52f8d5f79fb0223'
  const originStr = `${origin[0]},${origin[1]}`
  const destinationStr = `${destination[0]},${destination[1]}`
  
  const apiUrl = `https://restapi.amap.com/v3/direction/driving?` +
    `origin=${originStr}&amp;` +
    `destination=${destinationStr}&amp;` +
    `key=${apiKey}&amp;` +
    `strategy=0&amp;` +        // é€Ÿåº¦ä¼˜å…ˆ
    `extensions=all&amp;` +    // è¿”å›è¯¦ç»†ä¿¡æ¯
    `steps_info=1&amp;` +      // è¿”å›æ­¥éª¤ä¿¡æ¯
    `ferry=0&amp;` +           // ä¸èµ°è½®æ¸¡
    `output=json`
  
  const response = await fetch(apiUrl)
  const data = await response.json()
  
  if (data.status === '1' && data.route.paths.length &gt; 0) {
    const path = data.route.paths[0]
    const navigationData = parseWebAPINavigationInstructions(path, instruction)
    driverStore.setNavigationInfo(navigationData)
    drawRouteFromWebAPI(path)
    return true
  }
}
            </div>

            <h4>2. è½¬å‘æŒ‡ç¤ºè¯†åˆ«</h4>
            <div class="code">
// è§£æè½¬å‘æŒ‡ç¤º
if (instruction.includes('å·¦è½¬')) {
  nextInstruction = `${distance}ç±³åå·¦è½¬`
  instructionIcon = 'â†–ï¸'
} else if (instruction.includes('å³è½¬')) {
  nextInstruction = `${distance}ç±³åå³è½¬`
  instructionIcon = 'â†—ï¸'
} else if (instruction.includes('æ‰å¤´')) {
  nextInstruction = `${distance}ç±³åæ‰å¤´`
  instructionIcon = 'ğŸ”„'
}
            </div>
        </div>
    </div>

    <div class="container">
        <div class="test-section">
            <h3>ğŸ§ª æµ‹è¯•æ­¥éª¤</h3>
            <ol>
                <li><strong>å¸æœºä¸Šçº¿å¹¶æ¥å•</strong> - è§¦å‘å¯¼èˆªåŠŸèƒ½</li>
                <li><strong>è§‚å¯Ÿæ§åˆ¶å°æ—¥å¿—</strong> - æŸ¥çœ‹APIè°ƒç”¨è¿‡ç¨‹</li>
                <li><strong>éªŒè¯è½¬å‘æç¤º</strong> - æ£€æŸ¥å¯¼èˆªé¢æ¿æ˜¾ç¤º</li>
                <li><strong>æµ‹è¯•å®æ—¶æ›´æ–°</strong> - éªŒè¯ä½ç½®å˜åŒ–æ—¶çš„æ›´æ–°</li>
            </ol>
        </div>
    </div>

    <div class="container">
        <div class="test-section">
            <h3>ğŸ” è°ƒè¯•ä¿¡æ¯</h3>
            <h4>å…³é”®æ—¥å¿—</h4>
            <div class="code">
ğŸŒ ä½¿ç”¨é«˜å¾·WebæœåŠ¡APIè¿›è¡Œè·¯çº¿è§„åˆ’
ğŸ“ è°ƒç”¨é«˜å¾·Web API: [URL]
ğŸ“‹ é«˜å¾·Web APIå“åº”: [æ•°æ®]
âœ… Web APIå¯¼èˆªä¿¡æ¯å·²æ›´æ–°
ğŸ§­ å¯¼èˆªæŒ‡ç¤ºå·²æ›´æ–°: 300ç±³åå³è½¬
            </div>
        </div>
    </div>
</body>
</html>