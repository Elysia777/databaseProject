# 网约车运营系统数据库设计

## 数据库概述
本系统使用MySQL 8.0作为主数据库，Redis作为缓存和会话存储。

## 核心表结构设计

### 1. 用户相关表

#### 1.1 用户表 (users)
- 存储所有用户的基本信息
- 支持多种用户类型：乘客、司机、管理员

#### 1.2 司机信息表 (drivers)
- 存储司机的详细信息
- 包含驾驶证、从业资格证等信息

#### 1.3 车辆信息表 (vehicles)
- 存储车辆详细信息
- 包含车牌号、车型、保险等信息

#### 1.4 乘客信息表 (passengers)
- 存储乘客的详细信息

### 2. 订单相关表

#### 2.1 订单表 (orders)
- 存储所有订单信息
- 包含实时单和预约单

#### 2.2 订单详情表 (order_details)
- 存储订单的详细路径信息

#### 2.3 支付记录表 (payments)
- 存储支付相关信息

### 3. 评价相关表

#### 3.1 评价表 (ratings)
- 存储乘客对司机的评价
- 存储司机对乘客的评价

### 4. 系统管理表

#### 4.1 角色表 (roles)
- 存储系统角色信息

#### 4.2 权限表 (permissions)
- 存储系统权限信息

#### 4.3 用户角色关联表 (user_roles)
- 用户与角色的多对多关系

#### 4.4 角色权限关联表 (role_permissions)
- 角色与权限的多对多关系

### 5. 异常处理表

#### 5.1 投诉表 (complaints)
- 存储投诉信息

#### 5.2 纠纷处理表 (disputes)
- 存储纠纷处理记录

### 6. 统计相关表

#### 6.1 统计报表表 (statistics)
- 存储各种统计数据

## 数据库关系图
详见 `database_schema.png` 文件。

## 索引设计
- 用户表：手机号、邮箱唯一索引
- 订单表：用户ID、司机ID、创建时间索引
- 车辆表：车牌号唯一索引
- 评价表：订单ID索引 