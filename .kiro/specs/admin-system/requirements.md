# 管理员端系统需求文档

## 介绍

本文档定义了网约车运营系统的管理员端功能需求。管理员端是一个独立的管理界面，用于系统管理员监控和管理整个网约车平台的运营情况，包括用户管理、订单管理、评价管理、数据统计等核心功能。

## 需求

### 需求 1 - 管理员身份验证

**用户故事：** 作为系统管理员，我希望通过特定的管理员账号登录系统，以便安全地访问管理功能。

#### 验收标准

1. WHEN 管理员访问登录页面 THEN 系统应显示专用的管理员登录界面
2. WHEN 管理员输入正确的管理员账号和密码 THEN 系统应验证身份并允许登录
3. WHEN 管理员输入错误的凭据 THEN 系统应显示错误信息并拒绝登录
4. WHEN 非管理员用户尝试注册管理员账号 THEN 系统应禁止注册功能
5. WHEN 管理员登录成功 THEN 系统应生成管理员专用的JWT令牌
6. WHEN 管理员令牌过期 THEN 系统应自动跳转到登录页面

### 需求 2 - 用户管理

**用户故事：** 作为系统管理员，我希望能够查看和管理所有用户（司机和乘客），以便维护平台用户质量。

#### 验收标准

1. WHEN 管理员访问用户管理页面 THEN 系统应显示所有用户的列表
2. WHEN 管理员查看用户列表 THEN 系统应显示用户ID、姓名、手机号、用户类型、状态、注册时间等信息
3. WHEN 管理员搜索用户 THEN 系统应支持按姓名、手机号、用户类型进行筛选
4. WHEN 管理员点击用户详情 THEN 系统应显示用户的完整信息和活动记录
5. WHEN 管理员禁用用户账号 THEN 系统应将用户状态设为BANNED并阻止其登录
6. WHEN 管理员启用用户账号 THEN 系统应将用户状态设为ACTIVE并允许其正常使用
7. WHEN 管理员查看司机信息 THEN 系统应显示驾驶证、从业资格证等专业信息
8. WHEN 管理员查看乘客信息 THEN 系统应显示订单历史、支付记录等相关信息

### 需求 3 - 订单管理

**用户故事：** 作为系统管理员，我希望能够查看和管理所有订单，以便监控平台运营状况和处理异常订单。

#### 验收标准

1. WHEN 管理员访问订单管理页面 THEN 系统应显示所有订单的列表
2. WHEN 管理员查看订单列表 THEN 系统应显示订单号、乘客、司机、状态、金额、创建时间等信息
3. WHEN 管理员筛选订单 THEN 系统应支持按状态、日期范围、订单类型进行筛选
4. WHEN 管理员查看订单详情 THEN 系统应显示完整的订单信息包括路线、费用明细、支付状态
5. WHEN 管理员处理异常订单 THEN 系统应允许管理员修改订单状态或添加备注
6. WHEN 管理员查看实时订单 THEN 系统应显示当前进行中的订单状态
7. WHEN 管理员导出订单数据 THEN 系统应支持按条件导出Excel格式的订单报表
8. WHEN 管理员查看预约订单 THEN 系统应显示所有预约单的状态和执行情况

### 需求 4 - 评价管理

**用户故事：** 作为系统管理员，我希望能够查看和管理所有用户评价，以便维护平台服务质量和处理投诉。

#### 验收标准

1. WHEN 管理员访问评价管理页面 THEN 系统应显示所有评价记录的列表
2. WHEN 管理员查看评价列表 THEN 系统应显示评价者、被评价者、评分、评价内容、时间等信息
3. WHEN 管理员筛选评价 THEN 系统应支持按评分、日期、用户类型进行筛选
4. WHEN 管理员查看低分评价 THEN 系统应突出显示1-2星的差评记录
5. WHEN 管理员处理不当评价 THEN 系统应允许管理员隐藏或删除违规评价
6. WHEN 管理员查看评价详情 THEN 系统应显示关联的订单信息和用户信息
7. WHEN 管理员查看用户评价统计 THEN 系统应显示每个用户的平均评分和评价数量
8. WHEN 管理员导出评价数据 THEN 系统应支持导出评价统计报表

### 需求 5 - 数据统计与报表

**用户故事：** 作为系统管理员，我希望能够查看平台的运营数据和统计报表，以便了解业务状况和制定运营策略。

#### 验收标准

1. WHEN 管理员访问统计页面 THEN 系统应显示核心运营指标的仪表板
2. WHEN 管理员查看实时数据 THEN 系统应显示在线司机数、进行中订单数、今日订单量等实时指标
3. WHEN 管理员查看历史统计 THEN 系统应支持按日、周、月查看历史数据趋势
4. WHEN 管理员查看用户统计 THEN 系统应显示用户注册趋势、活跃用户数、用户分布等数据
5. WHEN 管理员查看订单统计 THEN 系统应显示订单量趋势、完成率、取消率、平均费用等指标
6. WHEN 管理员查看收入统计 THEN 系统应显示平台收入、司机收入、支付方式分布等财务数据
7. WHEN 管理员查看地区统计 THEN 系统应显示不同地区的订单分布和热力图
8. WHEN 管理员生成报表 THEN 系统应支持生成PDF或Excel格式的运营报表

### 需求 6 - 系统监控

**用户故事：** 作为系统管理员，我希望能够监控系统运行状态，以便及时发现和处理系统问题。

#### 验收标准

1. WHEN 管理员访问系统监控页面 THEN 系统应显示服务器状态、数据库连接、Redis状态等系统指标
2. WHEN 管理员查看实时监控 THEN 系统应显示CPU使用率、内存使用率、网络流量等实时数据
3. WHEN 管理员查看错误日志 THEN 系统应显示系统错误、异常订单、失败的支付等异常记录
4. WHEN 管理员查看用户活动 THEN 系统应显示用户登录记录、操作日志等活动信息
5. WHEN 系统出现异常 THEN 系统应向管理员发送告警通知
6. WHEN 管理员查看性能指标 THEN 系统应显示接口响应时间、数据库查询性能等指标

### 需求 7 - 权限管理

**用户故事：** 作为系统管理员，我希望能够管理不同级别的管理员权限，以便实现分级管理。

#### 验收标准

1. WHEN 超级管理员创建管理员账号 THEN 系统应允许创建不同权限级别的管理员
2. WHEN 管理员登录系统 THEN 系统应根据权限级别显示相应的功能菜单
3. WHEN 普通管理员访问超级管理员功能 THEN 系统应拒绝访问并显示权限不足提示
4. WHEN 管理员执行敏感操作 THEN 系统应记录操作日志包括操作者、时间、操作内容
5. WHEN 超级管理员查看操作日志 THEN 系统应显示所有管理员的操作记录
6. WHEN 管理员权限被修改 THEN 系统应立即生效并通知相关管理员

### 需求 8 - 消息通知管理

**用户故事：** 作为系统管理员，我希望能够向用户发送系统通知和公告，以便及时传达重要信息。

#### 验收标准

1. WHEN 管理员创建系统公告 THEN 系统应支持创建面向所有用户或特定用户群体的公告
2. WHEN 管理员发送通知 THEN 系统应支持即时发送或定时发送功能
3. WHEN 管理员编辑通知内容 THEN 系统应支持富文本编辑和图片上传
4. WHEN 管理员查看通知状态 THEN 系统应显示通知的发送状态和用户阅读情况
5. WHEN 管理员撤回通知 THEN 系统应支持撤回未读的通知消息
6. WHEN 用户收到系统通知 THEN 系统应在用户端显示通知并支持标记已读